{"ast":null,"code":"import Papa from 'papaparse';\nimport * as XLSX from 'xlsx';\nimport axios from 'axios';\nconst web_api_url = 'http://192.168.110.110:7500';\nexport default {\n  async created() {\n    await this.createFetching();\n  },\n  data() {\n    return {\n      data: [],\n      columns: [],\n      // 用於儲存 CSV 中的欄位名稱\n      selectedColumns: {},\n      // 用於儲存欄位的勾選狀態\n      selectedColumnsArray: [],\n      uploadedFile: null,\n      // 存儲上傳文件\n      isLoading: false,\n      // 默認為false\n      isWatchData: false,\n      isServerReturn: false,\n      dataTable: [],\n      Flaskdata: {},\n      isTraining: false,\n      fetchInterval: null,\n      // 用於存儲定期抓取的ID\n      isTrained: false\n    };\n  },\n  methods: {\n    handleFileChange(event) {\n      this.uploadedFile = event.target.files[0];\n      if (this.uploadedFile.name.includes('csv')) {\n        let hasExtractedColumns = false;\n        Papa.parse(this.uploadedFile, {\n          chunk: (results, parser) => {\n            if (!hasExtractedColumns) {\n              this.columns = results.data[0];\n              console.log(\"Column Names:\", this.columns);\n              hasExtractedColumns = true;\n\n              // 中止解析\n              parser.abort();\n            }\n          },\n          complete: () => {\n            console.log(\"Column Names:\", this.columns); // assuming first row is header\n          }\n        });\n      } else if (this.uploadedFile.name.includes('xl')) {\n        const reader = new FileReader();\n        reader.onload = e => {\n          const data = e.target.result;\n          const workbook = XLSX.read(data, {\n            type: 'binary'\n          });\n\n          // Assuming first sheet and first row is header\n          const firstSheetName = workbook.SheetNames[0];\n          const worksheet = workbook.Sheets[firstSheetName];\n          const jsonData = XLSX.utils.sheet_to_json(worksheet, {\n            header: 1\n          });\n          this.columns = jsonData[0];\n        };\n        reader.readAsBinaryString(this.uploadedFile);\n      } else {\n        alert(\"請上傳CSV或Excel文件！\");\n      }\n    },\n    async handleSubmit() {\n      this.selectedColumnsArray = Object.keys(this.selectedColumns).filter(column => this.selectedColumns[column]);\n      if (!this.uploadedFile) {\n        alert(\"請先選擇文件\");\n        return;\n      }\n      if (this.selectedColumnsArray.length != 2) {\n        alert(\"請選擇2個欄位!\");\n        return;\n      }\n\n      // 使用FormData來上傳文件和列名\n      const formData = new FormData();\n      formData.append('file', this.uploadedFile);\n      formData.append('columns', this.selectedColumnsArray);\n      // 開始上傳\n      this.isLoading = true;\n      try {\n        const response = await fetch(web_api_url + '/upload_train_data/', {\n          // 替換為你的服務器端點\n          method: 'POST',\n          body: formData\n        });\n        if (response.ok) {\n          alert('文件上傳成功！');\n          console.log(response); // 處理来自服務器的響應\n        } else {\n          alert('文件上傳失敗:' + response.message);\n        }\n      } catch (error) {\n        console.error(\"上傳錯誤:\", error);\n        alert('上傳過程中出現錯誤，請重試！');\n      } finally {\n        this.isLoading = false; // 結束上傳\n        this.isServerReturn = true;\n      }\n    },\n    async WatchData() {\n      this.isWatchData = !this.isWatchData;\n      if (this.isWatchData) {\n        try {\n          const response = await fetch(web_api_url + '/return_train_data/');\n          const data = await response.json();\n\n          // 假設API返回的是一个標準的JSON格式的DataFrame\n          this.dataTable = data;\n        } catch (error) {\n          console.error(\"Error loading data:\", error);\n        }\n      }\n    },\n    async StartTrain() {\n      if (this.isTraining) {\n        alert('訓練進行中，需中斷再重啟訓練。');\n      } else {\n        try {\n          const response = await axios.get(web_api_url + '/train/');\n          // const data = await response.json();\n          console.log(\"StartTrain data:\", response.data);\n        } catch (error) {\n          console.error(\"Error loading data:\", error);\n        }\n      }\n    },\n    async StopTrain() {\n      try {\n        const response = await axios.get(web_api_url + '/stop_training/');\n        console.log(\"Stop Training data:\", response.data);\n      } catch (error) {\n        console.error(\"Error loading data:\", error);\n      }\n    },\n    fetchData() {\n      axios.get(web_api_url + '/get_train_log').then(response => {\n        this.Flaskdata = response.data;\n        if (response.data['trained'] === true) {\n          this.isTrained = true;\n        }\n        this.isTraining = response.data['training'];\n      });\n    },\n    createFetching() {\n      this.fetchData();\n      this.fetchInterval = setInterval(this.fetchData, 1000);\n    }\n  }\n};","map":{"version":3,"names":["Papa","XLSX","axios","web_api_url","created","createFetching","data","columns","selectedColumns","selectedColumnsArray","uploadedFile","isLoading","isWatchData","isServerReturn","dataTable","Flaskdata","isTraining","fetchInterval","isTrained","methods","handleFileChange","event","target","files","name","includes","hasExtractedColumns","parse","chunk","results","parser","console","log","abort","complete","reader","FileReader","onload","e","result","workbook","read","type","firstSheetName","SheetNames","worksheet","Sheets","jsonData","utils","sheet_to_json","header","readAsBinaryString","alert","handleSubmit","Object","keys","filter","column","length","formData","FormData","append","response","fetch","method","body","ok","message","error","WatchData","json","StartTrain","get","StopTrain","fetchData","then","setInterval"],"sources":["E:\\Fred\\AI_UI\\vue_route\\vue-route\\src\\views\\AITrain.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      \r\n      <!-- 加載指示器 -->\r\n      <div v-if=\"isLoading\" class=\"loading-overlay\">\r\n        <img src=\"/jumpingsheep.gif\" alt=\"上傳中...\" class=\"loading-image\"/>\r\n      </div>\r\n      <!-- 第一部分 -->\r\n      <div class=\"First-Part\">\r\n        <h3 class=\"title_description\">\r\n            上傳產品中英文名稱，以進行模型訓練(csv,xlsx)\r\n        </h3>\r\n  \r\n        <input type=\"file\" @change=\"handleFileChange\">\r\n        <!-- 按鈕加載數據 -->\r\n        <button class=\"loadData-button\" @click=\"WatchData\">觀看前處理資料</button>\r\n        <button class=\"start-train-button\" @click=\"StartTrain\">Train SBERT Model</button>\r\n        <button class=\"stop-train-button\" @click=\"StopTrain\">Stop Training</button>\r\n        \r\n      <div v-if=\"columns.length && isServerReturn==false\">\r\n        <h3 class=\"title_description\">\r\n          選取2個相似對應欄位\r\n        </h3>\r\n        <!-- 呈現欄位名稱的表格 -->\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Select</th>\r\n              <th>Column Name</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"column in columns\" :key=\"column\">\r\n              <td><input type=\"checkbox\" v-model=\"selectedColumns[column]\"></td>\r\n              <td>{{ column }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <button class=\"submit-button\" @click=\"handleSubmit\" v-if=\"columns.length\">提交選取欄位</button>\r\n      </div>\r\n    </div>\r\n  \r\n      <!-- 第二部分 -->\r\n      <div class=\"Next-Part\">\r\n        <!-- 按鈕加載數據 -->\r\n        <table v-if=\"isWatchData\">\r\n          <thead>\r\n            <tr>\r\n              <!-- 假設你知道你的DataFrame的列名 -->\r\n              <th>Sentence1</th>\r\n              <th>Sentence2</th>\r\n              <!-- ... 其他列名 ... -->\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"row in dataTable\" :key=\"row.id\">\r\n              <td>{{ row['sentence1'] }}</td>\r\n              <td>{{ row['sentence2'] }}</td>\r\n              <!-- ... 其他數據列 ... -->\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    <div class=\"trainlog\">\r\n        <h4>{{Flaskdata.data }}</h4>\r\n    </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import Papa from 'papaparse';\r\n  import * as XLSX from 'xlsx';\r\n  import axios from 'axios';\r\n  const web_api_url = 'http://192.168.110.110:7500';\r\n  export default {\r\n    async created(){\r\n      await this.createFetching()\r\n    },\r\n    data() {\r\n      return {\r\n        data: [],\r\n        columns: [],          // 用於儲存 CSV 中的欄位名稱\r\n        selectedColumns: {},  // 用於儲存欄位的勾選狀態\r\n        selectedColumnsArray:[],\r\n        uploadedFile: null,  // 存儲上傳文件\r\n        isLoading: false,  // 默認為false\r\n        isWatchData:false,\r\n        isServerReturn: false,\r\n        dataTable: [],\r\n        Flaskdata: {},\r\n        isTraining:false,\r\n        fetchInterval: null,  // 用於存儲定期抓取的ID\r\n        isTrained: false,\r\n      }\r\n    },\r\n    methods: {\r\n        handleFileChange(event) {\r\n        this.uploadedFile = event.target.files[0];\r\n        if (this.uploadedFile.name.includes('csv')) {\r\n          let hasExtractedColumns = false;\r\n          Papa.parse(this.uploadedFile, {\r\n            chunk: (results,parser) => {\r\n              if (!hasExtractedColumns) {\r\n                this.columns = results.data[0];\r\n                console.log(\"Column Names:\", this.columns);\r\n                hasExtractedColumns = true;\r\n                \r\n                // 中止解析\r\n                parser.abort();\r\n              }\r\n            },\r\n            complete: () => {\r\n              console.log(\"Column Names:\", this.columns); // assuming first row is header\r\n            }\r\n          });\r\n        }\r\n        else if (this.uploadedFile.name.includes('xl')) {\r\n          const reader = new FileReader();\r\n          \r\n          reader.onload = (e) => {\r\n            const data = e.target.result;\r\n            const workbook = XLSX.read(data, { type: 'binary' });\r\n            \r\n            // Assuming first sheet and first row is header\r\n            const firstSheetName = workbook.SheetNames[0];\r\n            const worksheet = workbook.Sheets[firstSheetName];\r\n            const jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1 });\r\n            this.columns = jsonData[0]\r\n          };\r\n          reader.readAsBinaryString(this.uploadedFile);\r\n          }\r\n          else {\r\n              alert(\"請上傳CSV或Excel文件！\");\r\n            }\r\n        },async handleSubmit() {\r\n        this.selectedColumnsArray = Object.keys(this.selectedColumns).filter(column => this.selectedColumns[column]);\r\n        if (!this.uploadedFile) {\r\n            alert(\"請先選擇文件\");\r\n            return;\r\n          }\r\n  \r\n          if (this.selectedColumnsArray.length != 2) {\r\n            alert(\"請選擇2個欄位!\");\r\n            return;\r\n          }\r\n  \r\n          // 使用FormData來上傳文件和列名\r\n          const formData = new FormData();\r\n          formData.append('file', this.uploadedFile);\r\n          formData.append('columns', this.selectedColumnsArray);\r\n          // 開始上傳\r\n          this.isLoading = true;\r\n          try {\r\n            const response = await fetch(web_api_url+'/upload_train_data/', { // 替換為你的服務器端點\r\n              method: 'POST',\r\n              body: formData\r\n            });\r\n            if (response.ok) {\r\n              alert('文件上傳成功！');\r\n              console.log(response); // 處理来自服務器的響應\r\n            } else {\r\n              alert('文件上傳失敗:' + response.message);\r\n            }\r\n          } catch (error) {\r\n            console.error(\"上傳錯誤:\", error);\r\n            alert('上傳過程中出現錯誤，請重試！');\r\n          } finally {\r\n            this.isLoading = false;  // 結束上傳\r\n            this.isServerReturn = true;\r\n          }\r\n      },async WatchData() {\r\n        this.isWatchData = !this.isWatchData;\r\n  \r\n        if (this.isWatchData) {\r\n          try {\r\n            const response = await fetch(web_api_url+'/return_train_data/');\r\n            const data = await response.json();\r\n  \r\n            // 假設API返回的是一个標準的JSON格式的DataFrame\r\n            this.dataTable = data;\r\n  \r\n          } catch (error) {\r\n            console.error(\"Error loading data:\", error);\r\n          }\r\n        }\r\n      },async StartTrain(){\r\n        if (this.isTraining){\r\n          alert('訓練進行中，需中斷再重啟訓練。');\r\n        }\r\n        else{\r\n          try{\r\n            const response = await axios.get(web_api_url+'/train/');\r\n            // const data = await response.json();\r\n            console.log(\"StartTrain data:\", response.data);\r\n          } \r\n          catch (error) {\r\n            console.error(\"Error loading data:\", error);\r\n          }\r\n        }\r\n        \r\n      },async StopTrain(){\r\n        try{\r\n          const response = await axios.get(web_api_url+'/stop_training/');\r\n          console.log(\"Stop Training data:\", response.data);\r\n        } \r\n        catch (error) {\r\n          console.error(\"Error loading data:\", error);\r\n        }\r\n      },fetchData() {\r\n        axios.get(web_api_url+'/get_train_log')\r\n          .then(response => {\r\n            this.Flaskdata = response.data;\r\n            if (response.data['trained']===true){\r\n              this.isTrained = true;\r\n            }\r\n            this.isTraining = response.data['training'];\r\n          });\r\n      },createFetching() {\r\n        this.fetchData();\r\n        this.fetchInterval = setInterval(this.fetchData, 1000);\r\n      }\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style>\r\n  h3 {\r\n    margin-top: 20px;\r\n  }\r\n\r\n\r\n  /* 你可以加入些基本的樣式，讓表格看起來更整齊 */\r\n  table {\r\n    margin-top: 10px;\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    margin-bottom: 10px;\r\n    width: 500px;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n  }\r\n  \r\n  th, td {\r\n    border: 1px solid #ddd;\r\n    padding: 8px;\r\n  }\r\n  \r\n  th {\r\n    background-color: #f2f2f2;\r\n  }\r\n  .loading-overlay {\r\n    position: fixed;   /* 全屏覆盖 */\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background-color: rgba(255, 255, 255, 0.8);  /* 半透明的白色背景 */\r\n    display: flex;  /* 使用 Flexbox */\r\n    justify-content: center;  /* 水平居中 */\r\n    align-items: center;  /* 垂直居中 */\r\n    z-index: 1000;  /* 保證在最前面 */\r\n  }\r\n  \r\n  .loading-image {\r\n    max-width: 400px;  /* 或其他合適的大小 */\r\n    max-height: 400px;\r\n  }\r\n  \r\n  .submit-button {\r\n    background: linear-gradient(to bottom, #b0b0b0, #d9d8d8); /* 灰色漸變從較亮到較暗 */\r\n    color: rgb(4, 4, 4);  /* 文本顏色為白色 */\r\n    border: none;  /* 去除邊框 */\r\n    padding: 10px 20px;  /* 添加一些內邊距 */\r\n    border-radius: 5px;  /* 輕微的圓角 */\r\n    cursor: pointer;  /* 鼠標懸停時顯示手形 */\r\n    transition: 0.3s;  /* 平滑的過渡效果 */\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n  /* 當屬標懸停在按鈕上時，為其應用一個稍微亮一些的漸變背景 */\r\n  .submit-button:hover {\r\n    background: linear-gradient(to bottom, #c0c0c0, #d9d8d8);\r\n  }\r\n  \r\n  /* 如果你還想在按鈕被點擊時有樣式變化，可以添加以下樣式 */\r\n  .submit-button:active {\r\n    background: linear-gradient(to bottom, #dedede, #b0b0b0); /* 顏色轉變 */\r\n  }\r\n  </style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}