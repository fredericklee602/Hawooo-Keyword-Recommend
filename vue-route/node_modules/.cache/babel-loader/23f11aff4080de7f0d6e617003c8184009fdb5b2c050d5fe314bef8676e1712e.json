{"ast":null,"code":"export default {\n  data() {\n    return {\n      selectedColumns: {}\n    };\n  },\n  props: {\n    keyword: String,\n    recommendKeywords_list: Array\n  },\n  methods: {\n    async SubmitRecommend() {\n      this.selectedColumnsArray = Object.keys(this.selectedColumns).filter(column => this.selectedColumns[column]);\n      if (this.selectedColumnsArray.length == 0) {\n        alert(\"請選擇1或1以上的欄位數量\");\n        return;\n      }\n      formData.append('keyword', this.keyword);\n      // 使用FormData來上傳文件和列名\n      const formData = new FormData();\n      console.log(\"selectedColumnsArray Names:\", this.selectedColumnsArray);\n      formData.append('columns', this.selectedColumnsArray);\n      console.log(\"formData\", formData);\n      // 開始上傳\n      try {\n        const response = await fetch(web_api_url + '/upload_train_data/', {\n          // 替換為你的服務器端點\n          method: 'POST',\n          body: formData\n        });\n        if (response.ok) {\n          alert('文件上傳成功！');\n          console.log(response); // 處理来自服務器的響應\n        } else {\n          alert('文件上傳失敗:' + response.message);\n        }\n      } catch (error) {\n        console.error(\"上傳錯誤:\", error);\n        alert('上傳過程中出現錯誤，請重試！');\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","selectedColumns","props","keyword","String","recommendKeywords_list","Array","methods","SubmitRecommend","selectedColumnsArray","Object","keys","filter","column","length","alert","formData","append","FormData","console","log","response","fetch","web_api_url","method","body","ok","message","error"],"sources":["E:\\Fred\\AI_UI\\vue_route\\vue-route\\src\\components\\RecommendationKeywords.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <h3>Recommendations for {{ keyword }}</h3>\r\n      <table>\r\n        <thead>\r\n            <tr>\r\n                <th>Select</th>\r\n                <th>Recommend Keywords</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"recommended in recommendKeywords_list\" :key=\"recommended\">\r\n            <td><input type=\"checkbox\" v-model=\"selectedColumns[recommended]\"></td>\r\n            <td>{{ recommended }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <button class=\"submit-button\" @click=\"SubmitRecommend\" >上傳同義詞庫</button>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    data(){\r\n        return{\r\n            selectedColumns:{}\r\n        }\r\n    },\r\n    props: {\r\n      keyword: String,\r\n      recommendKeywords_list: Array\r\n    },\r\n    methods: {\r\n      async SubmitRecommend() {\r\n        this.selectedColumnsArray = Object.keys(this.selectedColumns).filter(column => this.selectedColumns[column]);\r\n  \r\n          if (this.selectedColumnsArray.length == 0) {\r\n            alert(\"請選擇1或1以上的欄位數量\");\r\n            return;\r\n          }\r\n          formData.append('keyword', this.keyword);  \r\n          // 使用FormData來上傳文件和列名\r\n          const formData = new FormData();\r\n          console.log(\"selectedColumnsArray Names:\", this.selectedColumnsArray);\r\n          formData.append('columns', this.selectedColumnsArray);\r\n          console.log(\"formData\", formData);\r\n          // 開始上傳\r\n          try {\r\n            const response = await fetch(web_api_url+'/upload_train_data/', { // 替換為你的服務器端點\r\n              method: 'POST',\r\n              body: formData\r\n            });\r\n            if (response.ok) {\r\n              alert('文件上傳成功！');\r\n              console.log(response); // 處理来自服務器的響應\r\n            } else {\r\n              alert('文件上傳失敗:' + response.message);\r\n            }\r\n          } catch (error) {\r\n            console.error(\"上傳錯誤:\", error);\r\n            alert('上傳過程中出現錯誤，請重試！');\r\n          }\r\n      }\r\n    }\r\n  };\r\n  </script>\r\n  "],"mappings":"AAsBE,eAAe;EACbA,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,eAAe,EAAC,CAAC;IACrB;EACJ,CAAC;EACDC,KAAK,EAAE;IACLC,OAAO,EAAEC,MAAM;IACfC,sBAAsB,EAAEC;EAC1B,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,eAAeA,CAAA,EAAG;MACtB,IAAI,CAACC,oBAAmB,GAAIC,MAAM,CAACC,IAAI,CAAC,IAAI,CAACV,eAAe,CAAC,CAACW,MAAM,CAACC,MAAK,IAAK,IAAI,CAACZ,eAAe,CAACY,MAAM,CAAC,CAAC;MAE1G,IAAI,IAAI,CAACJ,oBAAoB,CAACK,MAAK,IAAK,CAAC,EAAE;QACzCC,KAAK,CAAC,eAAe,CAAC;QACtB;MACF;MACAC,QAAQ,CAACC,MAAM,CAAC,SAAS,EAAE,IAAI,CAACd,OAAO,CAAC;MACxC;MACA,MAAMa,QAAO,GAAI,IAAIE,QAAQ,CAAC,CAAC;MAC/BC,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAE,IAAI,CAACX,oBAAoB,CAAC;MACrEO,QAAQ,CAACC,MAAM,CAAC,SAAS,EAAE,IAAI,CAACR,oBAAoB,CAAC;MACrDU,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEJ,QAAQ,CAAC;MACjC;MACA,IAAI;QACF,MAAMK,QAAO,GAAI,MAAMC,KAAK,CAACC,WAAW,GAAC,qBAAqB,EAAE;UAAE;UAChEC,MAAM,EAAE,MAAM;UACdC,IAAI,EAAET;QACR,CAAC,CAAC;QACF,IAAIK,QAAQ,CAACK,EAAE,EAAE;UACfX,KAAK,CAAC,SAAS,CAAC;UAChBI,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC,EAAE;QACzB,OAAO;UACLN,KAAK,CAAC,SAAQ,GAAIM,QAAQ,CAACM,OAAO,CAAC;QACrC;MACF,EAAE,OAAOC,KAAK,EAAE;QACdT,OAAO,CAACS,KAAK,CAAC,OAAO,EAAEA,KAAK,CAAC;QAC7Bb,KAAK,CAAC,gBAAgB,CAAC;MACzB;IACJ;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}